<!DOCTYPE html><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta charset="utf-8"><title>æˆ‘ä»¬å¦‚ä½•èŒƒå¼åŒ– Redux çŠ¶æ€çš„ - Front-End Engineering</title><meta name="description" content=""><meta name="author" content=""><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1"><link rel="stylesheet" href="../../assets/css/bulma.min.css"><link rel="stylesheet" href="../../assets/css/app.css"><!--[if lt IE 9]>
<script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]--><link rel="shortcut icon" href=""></head><body dir="ltr"><nav class="columns navbar"><div class="column logo is-3 is-offset-1"><a class="is-brand" href="../../index.html">Front-End Engineering</a></div></nav><div class="columns content"><div class="column is-2-desktop is-3-widescreen is-hidden-touch"></div><div class="column article-container is-11-tablet is-8-desktop is-6-widescreen"><div class="breadcrumb-area"><a href="../../index.html" class="breadcrumb-item">Home</a><span class="breadcrumb-delimiter"> &gt; </span><a href="../../Tech/index.html" class="breadcrumb-item">Tech</a><span class="breadcrumb-delimiter"> &gt; </span><a href="../../Tech/React/index.html" class="breadcrumb-item">React</a><span class="breadcrumb-delimiter"> &gt; </span><a href="../../Tech/React/2017-08-07-how-do-we-normalize-state.html" class="breadcrumb-item">æˆ‘ä»¬å¦‚ä½•èŒƒå¼åŒ– Redux çŠ¶æ€çš„</a></div><h1 class="article-title">æˆ‘ä»¬å¦‚ä½•èŒƒå¼åŒ– Redux çŠ¶æ€çš„</h1><p>ä½œè€…ï¼šå¼ æ–°</p><div class="article"><p>ä¸Šä¸€ç¯‡è®²åˆ°å¼€å‘<strong>React + Redux</strong> Web App æ—¶çš„æœ€ä½³ç›®å½•ç»“æ„ï¼Œä»Šå¤©æƒ³æ¥ç€èŠèŠå¦å¤–ä¸€ä¸ªè¯é¢˜ - Normalizing Stateï¼ˆä¸­æ–‡ä¸€èˆ¬ç¿»è¯‘ä¸º<strong>çŠ¶æ€èŒƒå¼åŒ–</strong>ï¼‰ï¼Œä»¥åŠå¦‚ä½•åˆ©ç”¨ selectors å»è®¿é—®è¿™äº›æ•°æ®ã€‚</p><h2 id="å°½é‡ä½¿ç”¨ç´¢å¼•å’Œselectorsåˆ†åˆ«æ¥å­˜å‚¨å’Œè®¿é—®state">å°½é‡ä½¿ç”¨ç´¢å¼•å’Œ<em>selectors</em>åˆ†åˆ«æ¥å­˜å‚¨å’Œè®¿é—®<em>state</em> <a class="markdownIt-Anchor" href="#å°½é‡ä½¿ç”¨ç´¢å¼•å’Œselectorsåˆ†åˆ«æ¥å­˜å‚¨å’Œè®¿é—®state">#</a></h2><p>è®¾è®¡èŒƒå¼åŒ–çš„ State èŒƒå¼åŒ–çš„æ•°æ®ä¸»è¦åŒ…å«ä¸‹é¢å‡ ä¸ªæ¦‚å¿µï¼š</p><ul><li>ä»»ä½•ç±»å‹çš„æ•°æ®åœ¨<em>state</em>ä¸­éƒ½æœ‰è‡ªå·±çš„ã€è¡¨ã€ç»“æ„</li><li>ä»»ä½•ã€æ•°æ®è¡¨ã€åº”å°†å„ä¸ªé¡¹ç›®å­˜å‚¨åœ¨å¯¹è±¡ä¸­ï¼Œå…¶ä¸­æ¯ä¸ªé¡¹ç›®çš„<em>ID</em>ä½œä¸º<em>key</em>ï¼Œé¡¹ç›®æœ¬èº«ä½œä¸º<em>value</em></li><li>ä»»ä½•å¯¹å•ä¸ªé¡¹ç›®çš„å¼•ç”¨éƒ½åº”è¯¥æ ¹æ®å­˜å‚¨é¡¹ç›®çš„<em>ID</em>æ¥å®Œæˆ</li><li><em>ID</em>æ•°ç»„åº”è¯¥ç”¨äºæ’åº</li></ul><p>ä¸åŸå§‹çš„åµŒå¥—å½¢å¼ç›¸æ¯”ï¼Œæœ‰ä¸‹é¢å‡ ä¸ªåœ°æ–¹çš„æ”¹è¿›ï¼š</p><ul><li>æ¯ä¸ªæ•°æ®é¡¹åªåœ¨ä¸€ä¸ªåœ°æ–¹å®šä¹‰ï¼Œä¸ä¼šé€ æˆæ•°æ®çš„ä¸ä¸€è‡´æˆ–æ˜¯å†—ä½™ï¼Œå¦‚æœæ•°æ®é¡¹éœ€è¦æ›´æ–°çš„è¯ä¸ç”¨åœ¨å¤šå¤„æ”¹å˜</li><li><em>reducer</em>é€»è¾‘ä¸ç”¨å¤„ç†æ·±å±‚æ¬¡çš„åµŒå¥—</li><li>æ£€ç´¢æˆ–è€…æ›´æ–°ç»™å®šæ•°æ®é¡¹çš„é€»è¾‘å˜å¾—ç®€å•ä¸ä¸€è‡´</li><li>æé«˜æ€§èƒ½ï¼Œæ¯ä¸ªç»„ä»¶åªè´Ÿè´£æ›´æ–°è‡ªå·±çš„æ•°æ®æºï¼Œä¸éœ€è¦æ›´æ–°æ•´ä¸ªæ•°æ®æºã€‚æ¯”å¦‚ï¼Œ<em>user</em>å±äºä¸€ä¸ª companyï¼Œé‚£ä¹ˆæ›´æ–° company æ—¶ï¼Œä»…ä»…åªéœ€è¦æ›´æ–°<code>companys.byId[companyId]</code>è¿™éƒ¨åˆ†ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€åœ¨<em>UI</em>ä¸­åªæœ‰æ•°æ®å‘ç”Ÿå˜åŒ–çš„ä¸€éƒ¨åˆ†æ‰ä¼šå‘ç”Ÿæ›´æ–°ã€‚å¦‚æœæ˜¯ä¹‹å‰çš„è¯ï¼Œç”±äºæ˜¯<code>user -&gt; company</code>ç»“æ„ï¼Œæ›´æ–° company æ—¶ï¼ŒåŒæ—¶ä¹Ÿä¼šæ›´æ–°<em>user</em>ï¼Œè¿˜æœ‰æ•´ä¸ª<em>user</em>åˆ—è¡¨ï¼Œä»è€Œä¼šè®© connect åˆ°<em>user</em>åˆ—è¡¨çš„æ‰€æœ‰ç»„ä»¶å…¨éƒ¨å†æ¬¡é‡æ–°æ¸²æŸ“ã€‚</li></ul><p>å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºçŠ¶æ€èŒƒå¼åŒ–çš„åŸºæœ¬æ¦‚å¿µå’Œå®ƒæ‰€å¸¦æ¥çš„å¥½å¤„ï¼Œè¯·å‚è€ƒ<a href="http://redux.js.org/docs/recipes/reducers/NormalizingStateShape.html" target="_blank" rel="noopener">Redux å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><p>å…ˆè¯´ä¸€ä¸‹ç»“æœï¼Œæˆ‘ä»¬æœ€ç»ˆæ‰€æœŸæœ›çš„ entities<em>state</em>æ˜¯è¿™æ ·çš„ï¼š</p><pre class="hljs"><code>{
  &quot;readers&quot;: {
    &quot;byId&quot;: {},
    &quot;ids&quot;: []
  },
  &quot;users&quot;: {
    &quot;byId&quot;: {},
    &quot;ids&quot;: []
  },
  &quot;subReaders&quot;: {
    &quot;byId&quot;: {},
    &quot;ids&quot;: []
  },
  &quot;shareUsers&quot;: {
    &quot;byId&quot;: {},
    &quot;ids&quot;: []
  },
  &quot;readerTags&quot;: {
    &quot;byId&quot;: {},
    &quot;ids&quot;: []
  },
  &quot;companys&quot;: {
    &quot;byId&quot;: {},
    &quot;ids&quot;: []
  }
}
</code></pre><p>å…¶ä¸­ï¼Œ<em>byId</em>å°±æ˜¯ä¸€ä¸ªå¤§çš„<em>hashmap</em>æ¥å­˜å‚¨æ•°æ®ï¼Œè€Œ<em>ids</em>å­˜å‚¨çš„åˆ™æ˜¯æœ‰åºçš„æ‰€æœ‰çš„<em>id</em>é›†åˆã€‚</p><p>åœ¨çŠ¶æ€èŒƒå¼åŒ–ä»¥å‰ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦ç­›é€‰å‡ºä¸€ä¸ªç‰¹å®šçš„<em>user</em>å¯¹è±¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¸å¾—ä¸å»è¿­ä»£æ‰€æœ‰çš„<em>users</em>ï¼Œå¦‚æœ<em>users</em>å¾ˆå¤§çš„è¯ï¼Œè¿™å°†æ˜¯ä¸€ä¸ªéå¸¸è€—æ—¶çš„æ“ä½œã€‚å¦‚æœæˆ‘ä»¬è¿˜æƒ³å¯¹<em>users</em>æ ¹æ®æœç´¢æ¡ä»¶ç­›é€‰å‡ºå®ƒçš„ä¸€ä¸ªå­é›†å‘¢ï¼Ÿæˆ‘ä»¬å¯èƒ½ä¼šå¦å¤–åœ¨çŠ¶æ€æ ‘ä¸­å†å•ç‹¬ç»´æŠ¤ä¸€ä¸ªæ•°ç»„ç”¨äºä¿æŒç­›é€‰ç»“æœã€‚</p><p>è€Œç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æ ¹æ®<em>useId</em>æŸ¥æ‰¾è¯¥<em>user</em>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™æ ·ç®€å•åœ°åšï¼š</p><pre class="hljs"><code>export const selectUser = createDeepEqualSelector(
  [getUsers, getUserId],
  (users, userId) =&gt; users.get(String(userId), Map()),
)
</code></pre><p>ä½¿ç”¨èŒƒå¼åŒ–æ•°æ®åï¼Œå®ƒå¹¶ä¸éœ€è¦æˆ‘ä»¬å†å»è¿­ä»£æ•´ä¸ªåˆ—è¡¨ï¼Œè¿™æ ·åšä¸ä»…èŠ‚çº¦äº†æ—¶é—´è€Œä¸”è¿˜ç®€åŒ–äº†ä»£ç é€»è¾‘ã€‚</p><blockquote><p>ä¸ºäº†åŒºåˆ†<em>selector</em>å‡½æ•°ï¼Œæ‰€æœ‰<em>selectors</em>é»˜è®¤éƒ½æ˜¯ä»¥<strong>select</strong>ä¸ºå‰ç¼€ã€‚</p></blockquote><p>å¦å¤–ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šåšçš„ä¸€ä»¶äº‹æƒ…å°±æ˜¯æ ¹æ®èŒƒå¼åŒ–çš„æ•°æ®ç»“æ„æ¥æ¸²æŸ“æ•´ä¸ªåˆ—è¡¨æ•°æ®ï¼ˆå¦‚<em>users</em>åˆ—è¡¨ï¼‰ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥ç”¨å¦å¤–ä¸€ä¸ª<em>selector</em>æ¥å®ç°ï¼Œå®ƒæ¥å—<em>users</em>å¯¹è±¡åˆ—è¡¨å’Œ<em>users ids</em> æ•°ç»„ï¼Œä»è€Œè¿”å›æ‰€æœ‰çš„<em>users</em>åˆ—è¡¨æ•°æ®ï¼ŒåŒæ—¶æˆ‘ä»¬å¯ä»¥é‡ç”¨è¯¥<em>selector</em>ã€‚</p><pre class="hljs"><code>const getUsers =*state*=&gt; state.users.byId
const getUserIds =*state*=&gt; state.users.ids
const selectUsers = createDeepEqualSelector(
  [getUsers, getUserIds],
  (users, userIds) =&gt; userIds.map(id =&gt; users.get(String(id))),
)
</code></pre><p>åŒæ ·çš„ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç”¨å¦å¤–ä¸€ä¸ª<em>selector</em>æ¥è·å–ç­›é€‰åçš„<em>users</em>ï¼š</p><pre class="hljs"><code>export const selectShareUsers = createDeepEqualSelector(
  [getShareUsers, getShareUserIds],
  (shareUsers, shareUserIds) =&gt;
    shareUserIds
      .map(id =&gt; shareUsers.get(String(id)))
      .sortBy(item =&gt; item.get('companyName')),
)
</code></pre><blockquote><p>æˆ‘ä»¬ä½¿ç”¨äº†<strong>reselect</strong>æ¥ä½œä¸ºæˆ‘ä»¬çš„<em>selector</em>åº“ï¼Œå®ƒä¼šä¸ºæˆ‘ä»¬å¸¦æ¥å¦‚ä¸‹çš„ä¼˜åŠ¿ï¼š</p></blockquote><ul><li><em>Selectors</em>ç”¨äºè®¡ç®—æ´¾ç”Ÿæ•°æ®ï¼Œä»è€Œå…è®¸ Redux åªå­˜å‚¨å°½å¯èƒ½å°‘çš„çŠ¶æ€</li><li><em>Selectors</em>æ•ˆç‡ç›¸å½“é«˜ï¼Œä¸€ä¸ª<em>selector</em>åªæœ‰åœ¨å®ƒçš„å‚æ•°å‘ç”Ÿå˜åŒ–æ—¶æ‰ä¼šé‡æ–°è®¡ç®—</li><li><em>Selectors</em>å¯ä»¥è‡ªç”±ç»„åˆï¼Œä¸€ä¸ª<em>selector</em>å¯ä»¥æˆä¸ºå…¶å®ƒ<em>selector</em>çš„è¾“å…¥</li></ul><p>è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å®ç°äº†æ•°æ®çš„å­˜å‚¨å’Œè·å–ï¼ŒåŒæ—¶ï¼Œ<em>selector</em>æ¨¡å¼ä¹Ÿå¢å¼ºäº†ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚<em>Selectors</em>ä¸­å°è£…çš„æ˜¯<em>Web App</em>æ‰€éœ€è¦çš„å½“å‰ state çš„æ‰€æœ‰ä¿¡æ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å°†<em>Web App</em>çš„å½“å‰<em>state</em>ä¼ é€’ç»™å®ƒï¼Œå®ƒè‡ªå·±ä¼šçŸ¥é“å¦‚ä½•è®¡ç®—å‡ºæˆ‘ä»¬éœ€è¦çš„æ•°æ®ï¼Œ<strong>è¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥æŠŠç»„ä»¶å’Œ<em>state</em>å½»åº•è§£è€¦</strong>ã€‚</p><p>è®¾æƒ³ä¸€ä¸‹ï¼Œå¦‚æœå“ªå¤©æˆ‘ä»¬æƒ³è¦é‡æ„æˆ‘ä»¬çš„<em>state</em>ï¼ˆæ¯”å¦‚<code>users</code>-&gt; <code>xxooUsers</code>ï¼ŒğŸ˜¦ï¼‰ã€‚å¦‚æœæ²¡æœ‰<em>selectors</em>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¿…é¡»æ ¹æ®æ–°çš„<em>state</em>ï¼ˆ<code>xxooUsers</code>ï¼‰å»æ›´æ–°æˆ‘ä»¬æ‰€æœ‰çš„è§†å›¾ç»„ä»¶ä»£ç ï¼ˆä¾‹å¦‚ <code>mapStateToProps</code>ä¸­è·å–<em>users</em>çš„ä»£ç é€»è¾‘ï¼‰ï¼Œæ›´ç³Ÿç³•çš„æ˜¯ï¼Œéšç€æœ‰ç±»ä¼¼è¿™ç§æ›´æ–°éœ€æ±‚çš„è§†å›¾ç»„ä»¶è¶Šæ¥è¶Šå¤šï¼Œè¿™ç§æ›´æ–°å°†ä¼šè¶Šæ¥è¶Šå›°éš¾ï¼Œå¦‚æœæ­¤æ—¶ä½ æ²¡æœ‰<strong>UT</strong>ç»™ä½ è¶³å¤Ÿçš„ä¿¡å¿ƒåŠ æŒï¼Œé‚£ç®€ç›´ æ˜¯ä¸€åœºå™©æ¢¦ã€‚ä¸ºäº†é¿å…è¿™ç§ç‰µä¸€å‘è€ŒåŠ¨å…¨èº«çš„é—®é¢˜ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨<em>selectors</em>åœ¨è§†å›¾ç»„ä»¶ä¸­è·å–æˆ‘ä»¬éœ€è¦çš„<em>state</em>ï¼Œå¦‚æœ<em>state</em>ç»“æ„æœ‰ä»»ä½•ä¿®æ”¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦æ›´æ–°<em>selector</em>ï¼Œå°±å¯ä»¥è®©å®ƒèƒ½æ­£ç¡®çš„è®¿é—®åˆ°<em>state</em>ï¼Œå¥½å¤„æ˜¯æ‰€æœ‰çš„è§†å›¾ç»„ä»¶æ ¹æœ¬ä¸éœ€è¦åšä»»ä½•çš„ä¿®æ”¹ï¼Œä¹Ÿå¯ä»¥ç»§ç»­æ­£å¸¸å·¥ä½œã€‚</p><h2 id="é‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦‚ä½•èŒƒå¼åŒ–-state-çš„å‘¢ï¼Ÿ">é‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦‚ä½•èŒƒå¼åŒ– state çš„å‘¢ï¼Ÿ <a class="markdownIt-Anchor" href="#é‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦‚ä½•èŒƒå¼åŒ–-state-çš„å‘¢ï¼Ÿ">#</a></h2><p>ä¸æœåŠ¡ç«¯çš„æ•°æ®äº¤äº’é€šå¸¸æ˜¯é€šè¿‡ä¸¥æ ¼çš„ RESTFul API çš„å½¢å¼ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å°†è¯¥æ•°æ®éœ€è¦å¼•å…¥çŠ¶æ€æ ‘ä¹‹å‰è½¬åŒ–ä¸ºè§„èŒƒåŒ–å½¢æ€ã€‚<a href="https://github.com/paularmstrong/normalizr" target="_blank" rel="noopener">Normalizr</a> åº“å¯ä»¥å¸®åŠ©å®ç°è¿™ä¸ªã€‚ä½ å¯ä»¥å®šä¹‰ schema çš„ç±»å‹å’Œå…³ç³»ï¼Œå°† schema å’Œå“åº”æ•°æ®æä¾›ç»™ Normalizrï¼Œä»–ä¼šè¾“å‡ºå“åº”æ•°æ®çš„èŒƒå¼åŒ–å˜æ¢ã€‚</p><p>ä¸‹é¢æ˜¯ schema çš„å®šä¹‰ç¤ºä¾‹ï¼š</p><pre class="hljs"><code>import { schema } from 'normalizr'

const reader = new schema.Entity('readers')
const subReader = new schema.Entity('subReaders', {}, { idAttribute: 'rid' })
const readerInfo = new schema.Entity('readerInfos')
const readerTag = new schema.Entity('readerTags')
const company = new schema.Entity('companys')
const user = new schema.Entity('users', { company })
const shareUser = new schema.Entity('shareUsers')
const account = new schema.Entity('accounts')

export default {
  READERS: [reader],

  SUB_READERS: [subReader],

  READER_INFOS: [readerInfo],

  READER_TAGS: [readerTag],

  USER: user,

  SHARE_USERS: [shareUser],

  ACCOUNTS: [account],

  COMPANY: company,
  COMPANYS: [company],
}
</code></pre><p>ç”±äºå†…éƒ¨é‡‡ç”¨äº† PromiseMiddlware æ¥å¤„ç†å¼‚æ­¥æ•°æ®è¯·æ±‚ï¼Œæ¯ä¸ªå¼‚æ­¥è¯·æ±‚éƒ½ä¼šç”±ä¸€ä¸ª action å‘å‡ºï¼Œå¦‚æœéœ€è¦å¯¹æœåŠ¡ç«¯çš„è¿”å›æ•°æ®åš Normalizingï¼Œé‚£ä¹ˆåªéœ€è¦åœ¨<code>meta</code>ä¸Šæ·»åŠ ä¸Šç›¸åº”çš„ schemaï¼Œé‚£ä¹ˆ PromiseMiddleware ä¼šè‡ªåŠ¨æ ¹æ®è¯¥ schema å’Œå“åº”æ•°æ®ç”ŸæˆèŒƒå¼åŒ–æ•°æ®ã€‚</p><pre class="hljs"><code>export const fetchReaders = ({ suppressLoading } = {}) =&gt; ({
  type: FETCH_READERS,
  promise: (dispatch, getState, api) =&gt; api.get(URL.fetchReaders),
  meta: { suppressLoading, schema: Schemas.READERS },
})
</code></pre><pre class="hljs"><code>...
if (schema) {
  finalPayload = normalize(payload, schema)
}

if (meta &amp;&amp; meta.normalize) {
  finalPayload = meta.normalize(payload, { dispatch, getState })
}
...
</code></pre><p>æœ€åï¼ŒèŒƒå¼åŒ–çš„æ•°æ®ä¼šç”±ç›¸åº”çš„<code>entities</code>ä¸­çš„<em>reducer</em>åšå¤„ç†ï¼Œç„¶åå­˜å‚¨åˆ°<code>entites.readers</code>ä¸­ã€‚</p><pre class="hljs"><code>const readersById = handleActions(
  {
    [DELETE_READER_SUCCESS]: (state, { meta }) =&gt;
      state.filter((r, id) =&gt; id !== String(meta.reader)),

    [ADD_READER_SUCCESS]: (state, { payload }) =&gt;
      state.merge({
        [payload.id]: payload,
      }),

    [FETCH_READER_INFO_SUCCESS]: (state, { payload }) =&gt;
      state.mergeDeepIn([String(payload.id)], payload),

    [SAVE_READER_INFO_SUCCESS]: (state, { payload }) =&gt;
      state.mergeDeepIn([String(payload.id)], payload),
  },
  Map(),
  (state, action) =&gt; entityById('readers')(state, action),
)

const readers = handleActions(
  {
    [DELETE_READER_SUCCESS]: (state, { meta }) =&gt;
      state.filter(id =&gt; id !== meta.reader),

    [ADD_READER_SUCCESS]: (state, { payload }) =&gt; state.concat(payload.id),

    [FETCH_READER_INFO_SUCCESS]: (state, { payload }) =&gt;
      state.concat(payload.id),
  },
  OrderedSet(),
  (state, action) =&gt; entity('readers')(state, action),
)

export default combineReducers({
  byId: readersById,
  ids: readers,
})
</code></pre></div><div dir="ltr" class="level article-bar is-mobile"><div class="level-item has-text-centered"><a title="previous page" class="previouse-article-link" href="../../Tech/React/2017-06-04-how-we-structure-react-redux-project-stucture.html"><span class="icon icon-previous" data-icon="previous"></span><span class="link-content">&laquo; Previous</span></a></div><div class="level-item has-text-centered"><a title="font size" class="link-item link-item-size"><span class="icon icon-size" data-icon="size"></span></a></div><div class="level-item has-text-centered"><a title="table of content" class="link-item link-item-toc"><span class="icon icon-toc" data-icon="toc"></span></a></div><div class="level-item has-text-centered"><a title="top" href="#"><span class="icon icon-up" data-icon="up"></span> <span class="link-content">â¤Š Top</span></a></div><div class="level-item has-text-centered"><a title="next page" class="next-article-link" href="../../Tech/React/2017-09-08-the-simplicity-of-redux.html"><span class="icon icon-next" data-icon="next"></span><span class="link-content">Next &raquo;</span></a></div></div></div><div class="column is-2-widescreen is-hidden"></div></div><div class="columns foot"><div class="column is-8 is-offset-1 license"><p>ç½‘ç«™å†…å®¹è®¸å¯è¯ï¼šå…¬å…±é¢†åŸŸï¼ˆpublic domainï¼‰</p></div><div class="column is-3 build-by">Build by <a href="https://github.com/ruanyf/loppo" target="_blank">Loppo</a> 0.6.15</div></div><div class="book-toc notification is-warning is-hidden"><h3>Table of chapters &nbsp;<span class="title-close"><a class="button is-danger"> Close</a></span></h3><ul class="chapter-area"><li class="chapter-item"><a href="../../2019-09-04-talent-requirement.html">å¯¹äººæ‰çš„è¦æ±‚</a></li><li class="chapter-item"><a href="../../Tech/index.html">Tech</a>&nbsp;<a class="first-level-collapse"><span class="icon icon-collapse" data-icon="collapse"></span></a></li><ul class="chapter-level-1 chapter-level-1-current"><li class="chapter-item"><a href="../../Tech/2017-09-01-checklist-job-offer.html">å·¥ä½œæœºä¼šçš„æ£€æŸ¥æ¸…å•</a></li><li class="chapter-item"><a href="../../Tech/2017-11-03-front-end-development-process.html">å‰ç«¯å¼€å‘æµç¨‹</a></li><li class="chapter-item"><a href="../../Tech/2018-03-14-move-from-sb-to-code.html">æˆ‘ä¸ºä»€ä¹ˆæ”¾å¼ƒ Sublime Text è€Œè½¬å‘ VSCï¼Ÿ</a></li><li class="chapter-item"><a href="../../Tech/2018-03-27-my-git-styleguide.html">My Personal Git Styleguide</a></li><li class="chapter-item"><a href="../../Tech/2018-08-25-full-stack-engineering.html">WTF Full-Stack Engineering</a></li><li class="chapter-item"><a href="../../Tech/2018-11.28-tinyapp-redux.html">æ”¯ä»˜å®å°ç¨‹åº Redux Binding</a></li><li class="chapter-item"><a href="../../Tech/Active/index.html">Active</a></li><ul class="chapter-level-2"><li class="chapter-item"><a href="../../Tech/Active/2017-09-25-active-development-workflow.html">æ´»è·ƒç½‘ç»œå‰ç«¯å¼€å‘æµç¨‹</a></li><li class="chapter-item"><a href="../../Tech/Active/2017-10-19-front-end-engineering-in-active.html">æ´»è·ƒç½‘ç»œçš„å‰ç«¯å·¥ç¨‹åŒ–å®è·µä¹‹è·¯</a></li><li class="chapter-item"><a href="../../Tech/Active/2017-10-23-active-china-fee-hiring-process.html">Active China Front-End Engineer Hiring Process</a></li></ul><li class="chapter-item"><a href="../../Tech/React/index.html">React</a></li><ul class="chapter-level-2"><li class="chapter-item"><a href="../../Tech/React/2017-06-04-how-we-structure-react-redux-project-stucture.html">æˆ‘ä»¬å¦‚ä½•ç»„ç»‡ React + Redux é¡¹ç›®ç»“æ„</a></li><li class="chapter-item chapter-item-current"><a href="../../Tech/React/2017-08-07-how-do-we-normalize-state.html">æˆ‘ä»¬å¦‚ä½•èŒƒå¼åŒ– Redux çŠ¶æ€çš„</a></li><li class="chapter-item"><a href="../../Tech/React/2017-09-08-the-simplicity-of-redux.html">Redux çš„ç®€å•æ€§</a></li><li class="chapter-item"><a href="../../Tech/React/2017-09-18-how-do-we-implement-i18n-based-on-react.html">æˆ‘ä»¬å¦‚ä½•åŸºäº React å®ç° i18n</a></li></ul></ul><li class="chapter-item"><a href="../../life/index.html">life</a>&nbsp;<a class="first-level-collapse"><span class="icon icon-expand" data-icon="expand"></span></a></li><ul class="chapter-level-1"><li class="chapter-item"><a href="../../life/2016-08-30-keys-to-have-health-relationship.html">ä½œä¸ºä¸€ä¸ªå¼€å‘è€…ï¼Œå¦‚ä½•å»ç»´ç³»å’Œå¢è¿›å¥åº·çš„äººé™…å…³ç³»ï¼Ÿ</a></li><li class="chapter-item"><a href="../../life/2018-03-13-maintaining-a-healthy-work-life-balance.html">å¦‚ä½•åœ¨å·¥ä½œå’Œå·¥ä½œä¸­æ‰¾åˆ°ä¸€ä¸ªå¥åº·çš„å¹³è¡¡å‘¢ï¼Ÿ</a></li></ul></ul></div><div class="progress-indicator"></div><!-- SCRIPTS --><script>var LOPPO={current_path:"Tech/React/2017-08-07-how-do-we-normalize-state.md",relative_root_path:"../../",article_toc:'<ul class="markdownIt-TOC">\n<li><a href="#%E5%B0%BD%E9%87%8F%E4%BD%BF%E7%94%A8%E7%B4%A2%E5%BC%95%E5%92%8Cselectors%E5%88%86%E5%88%AB%E6%9D%A5%E5%AD%98%E5%82%A8%E5%92%8C%E8%AE%BF%E9%97%AEstate">å°½é‡ä½¿ç”¨ç´¢å¼•å’Œ<em>selectors</em>åˆ†åˆ«æ¥å­˜å‚¨å’Œè®¿é—®<em>state</em></a></li>\n<li><a href="#%E9%82%A3%E4%B9%88%E6%88%91%E4%BB%AC%E6%98%AF%E5%A6%82%E4%BD%95%E8%8C%83%E5%BC%8F%E5%8C%96-state-%E7%9A%84%E5%91%A2%EF%BC%9F">é‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦‚ä½•èŒƒå¼åŒ– state çš„å‘¢ï¼Ÿ</a></li>\n</ul>\n'}</script><script src="../../assets/js/app.js"></script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?8abfc12836cb16954eaaccc965864e54";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></body></html>